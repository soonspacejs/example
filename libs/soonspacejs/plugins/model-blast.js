import{Box3 as e,Vector3 as t}from"three";class s{constructor(e){this.ssp=e,this.prevObject=null}start(s,o){this.prevObject=s;const r=(new e).expandByObject(s),a=r.getSize(new t),i=null!=o?o:Math.max(a.x,a.y,a.z),l=(new t).addVectors(r.max,r.min).multiplyScalar(.5);s.traverse((s=>{if("Mesh"===s.type){if(!s.userData.worldDir){const o=new e;o.setFromObject(s);const r=(new t).addVectors(o.max,o.min).multiplyScalar(.5);s.userData.worldDir=(new t).subVectors(r,l).normalize(),s.userData.oldPosition=s.position.clone()}s.position.copy((new t).copy(s.userData.oldPosition).add((new t).copy(s.userData.worldDir).multiplyScalar(i))),this.ssp.render()}}))}stop(e){const t=e||this.prevObject;null==t||t.traverse((e=>{"Mesh"===e.type&&e.userData.oldPosition&&(e.position.copy(e.userData.oldPosition),delete e.userData.worldDir,delete e.userData.oldPosition)})),this.prevObject=null,this.ssp.render()}}export{s as default};
